<html>
<head>
<title>UgImportfeatCreate.c</title>
</head>
<body bgcolor="#ffffff">
<pre><a name="anchor-0"></a>
/*
	Copyright (c) 2024 PTC Inc. and/or Its Subsidiary Companies. All Rights Reserved.
*/

<a name="anchor-1"></a>#include &lt;ProToolkit.h>
#include &lt;ProMdl.h>
#include &lt;ProArray.h>
#include &lt;ProModelitem.h>
#include &lt;ProImportfeat.h>
<a name="anchor-2"></a>#include &lt;ProToolkitDll.h> /* for ProArgument */
#include &lt;ProWstring.h>
#include &lt;UtilString.h>
#include &lt;ProUtil.h> 

<a name="anchor-3"></a>/*--------------------------------------------------------------------*\
	Prototypes
\*--------------------------------------------------------------------*/
ProIntfData*  PTTestPrismCreate (double x_value, double y_value, double z_value, ProSolid solid);
ProIntfData*  PTTestSphereCreate (double, ProMdl);
<a name="anchor-4"></a>
typedef enum
{
	USER_IMPFEATOPT_PRISM,
	USER_IMPFEATOPT_SPHERE
<a name="anchor-5"></a>} UserImpfeatopt;

typedef struct 
{
	double length;
<a name="anchor-6"></a>	double width;
	double height;
} UserPrismdata;

typedef struct 
<a name="anchor-7"></a>{
	double radius;
} UserSpheredata;
			
typedef struct 
<a name="anchor-8"></a>{
	UserImpfeatopt  type;
	union
	{
		UserPrismdata prism;
<a name="anchor-9"></a>		UserSpheredata sphere;
	} dims;
	
	ProCsys csys;
	ProImportfeatAttr attr;
<a name="anchor-10"></a>
} UserImportfeatOption;

int UserImportfeatOptionsGet (UserImportfeatOption** options)
{
<a name="anchor-11"></a>	UserImportfeatOption* tmp_opt;
	UserImportfeatOption* opt;
	/* tmp */
	ProArrayAlloc (3, sizeof (UserImportfeatOption), 1, (ProArray*)&amp;tmp_opt);

<a name="anchor-12"></a>	opt = &amp;tmp_opt [0];
	opt->type = USER_IMPFEATOPT_PRISM;
	opt->dims.prism.height = 20;
	opt->dims.prism.length = 30;
	opt->dims.prism.width = 40;
<a name="anchor-13"></a>		
	opt->csys = NULL;
	opt->attr.join_surfaces = 1;
	opt->attr.attempt_make_solid = 1;
	opt->attr.cut_or_add = 0;
<a name="anchor-14"></a>    opt->attr.add_bodies = 0;
    opt->attr.body_use_opt = PRO_IMPORT_BODY_USE_DEFAULT;
    opt->attr.body_arr = NULL;

    opt = &amp;tmp_opt[1];
<a name="anchor-15"></a>
	opt->type = USER_IMPFEATOPT_PRISM;
	opt->dims.prism.height = -10;
	opt->dims.prism.length = -20;
	opt->dims.prism.width = 30;
<a name="anchor-16"></a>		
	opt->csys = NULL;
	opt->attr.join_surfaces = 0;
	opt->attr.attempt_make_solid = 0;
	opt->attr.cut_or_add = 0;
<a name="anchor-17"></a>    opt->attr.add_bodies = 0;
    opt->attr.body_use_opt = PRO_IMPORT_BODY_USE_DEFAULT;
    opt->attr.body_arr = NULL;

	opt = &amp;tmp_opt [2];
<a name="anchor-18"></a>

	opt->type = USER_IMPFEATOPT_SPHERE;
	opt->dims.sphere.radius = 22.5;
		
<a name="anchor-19"></a>	opt->csys = NULL;
	opt->attr.join_surfaces = 1;
	opt->attr.attempt_make_solid = 1;
	opt->attr.cut_or_add = 1;
    opt->attr.add_bodies = 0;
<a name="anchor-20"></a>    opt->attr.body_use_opt = PRO_IMPORT_BODY_USE_DEFAULT;
    opt->attr.body_arr = NULL;

	*options = tmp_opt;

<a name="anchor-21"></a>	return PRO_TK_NO_ERROR;
}

ProError UserArgumentByLabelGet (ProArgument* args, ProName name, ProValueData* data)
{
<a name="anchor-22"></a>	int size, i;
	ProError status;


	status = ProArraySizeGet (args, &amp;size);
<a name="anchor-23"></a>	if (status != PRO_TK_NO_ERROR)
		return PRO_TK_INVALID_TYPE;

	for (i = 0; i &lt; size; i++)
	{
<a name="anchor-24"></a>		status = ProUtilWstrcmp (args [i].label, name);
		if (status == 0)
		{
			*data = args [i].value;
			return PRO_TK_NO_ERROR;
<a name="anchor-25"></a>		}
	}
	return PRO_TK_E_NOT_FOUND;
}

<a name="anchor-26"></a>
/* 

  The following example function demonstrates how to set up and implement a 
  Pro/TOOLKIT task function accessible from other Pro/ENGINEER auxiliary 
<a name="anchor-27"></a>  applications.  It uses the required signature and macro for task functions.
  It parses the input argument array searching for parameters required by 
  the task.

*/
<a name="anchor-28"></a>
/*====================================================================*\
FUNCTION: UserCreateImpfeatTask
PURPOSE:  Example task function in a Pro/TOOLKIT DLL
\*====================================================================*/
<a name="anchor-29"></a>PRO_TK_DLL_EXPORT ProError   UserCreateImpfeatTask (ProArgument* inputs, ProArgument** outputs)
{
	ProError status;
	ProSolid solid;
	ProArgument arg;
<a name="anchor-30"></a>	ProValueData data;
	UserImpfeatopt type;
	ProMdlType model_type;
	ProIntfData *interface_data;
	ProImportfeatAttr  attr;
<a name="anchor-31"></a>	ProCsys csys = NULL;
	ProIntfDataSource data_source;
    	ProFeature feature;
	ProSelection sel;

<a name="anchor-32"></a>	attr.join_surfaces = PRO_B_TRUE;
	attr.attempt_make_solid = PRO_B_TRUE;
	attr.cut_or_add = PRO_B_FALSE;
    attr.add_bodies = 0;
    attr.body_use_opt = PRO_IMPORT_BODY_USE_DEFAULT;
<a name="anchor-33"></a>    attr.body_arr = NULL;

	status = ProMdlCurrentGet ((ProMdl*)&amp;solid);
	if (status != PRO_TK_NO_ERROR)
		return PRO_TK_BAD_CONTEXT;
<a name="anchor-34"></a>
	status = ProMdlTypeGet (solid, &amp;model_type);
	if (model_type != PRO_MDL_PART)
		return PRO_TK_INVALID_TYPE;
		
<a name="anchor-35"></a>/*--------------------------------------------------------------------*\
	Look up required input arguments (by name)
\*--------------------------------------------------------------------*/
/*	status = ProArgumentByLabelGet (inputs, L&quot;IMPGEOMTYPE&quot;, &amp;data);*/
	status = UserArgumentByLabelGet (inputs, L&quot;IMPGEOMTYPE&quot;, &amp;data);
<a name="anchor-36"></a>	if (status != PRO_TK_NO_ERROR)
		return PRO_TK_EMPTY;

	type = (UserImpfeatopt)data.v.i;

<a name="anchor-37"></a>	switch (type)
	{
		case USER_IMPFEATOPT_PRISM:
			{
				double length, width, height;
<a name="anchor-38"></a>
				/* Characteristic inputs: L, W, H */
				/* status = ProArgumentByLabelGet (inputs, L&quot;LENGTH&quot;, &amp;data); */
				status = UserArgumentByLabelGet (inputs, L&quot;LENGTH&quot;, &amp;data);
				if (status != PRO_TK_NO_ERROR)
<a name="anchor-39"></a>					return PRO_TK_BAD_INPUTS;

				length = data.v.d;

				/* status = ProArgumentByLabelGet (inputs, L&quot;WIDTH&quot;, &amp;data); */
<a name="anchor-40"></a>				status = UserArgumentByLabelGet (inputs, L&quot;WIDTH&quot;, &amp;data);
				if (status != PRO_TK_NO_ERROR)
					return PRO_TK_BAD_INPUTS;

				width = data.v.d;
<a name="anchor-41"></a>
				/* status = ProArgumentByLabelGet (inputs, L&quot;HEIGHT&quot;, &amp;data); */
				status = UserArgumentByLabelGet (inputs, L&quot;HEIGHT&quot;, &amp;data); 
				if (status != PRO_TK_NO_ERROR)
					return PRO_TK_BAD_INPUTS;
<a name="anchor-42"></a>
				height = data.v.d;

/*--------------------------------------------------------------------*\
	Create interface data describing a rectangular prism with given dimensions
<a name="anchor-43"></a>\*--------------------------------------------------------------------*/
				interface_data =  PTTestPrismCreate (length, width, height, solid);
				
				break;
			}
<a name="anchor-44"></a>
		case USER_IMPFEATOPT_SPHERE:
			{
				double radius;

<a name="anchor-45"></a>				/* status = ProArgumentByLabelGet (inputs, L&quot;RADIUS&quot;, &amp;data); */
				status = UserArgumentByLabelGet (inputs, L&quot;RADIUS&quot;, &amp;data);
				if (status != PRO_TK_NO_ERROR)
					return PRO_TK_BAD_INPUTS;

<a name="anchor-46"></a>				radius = data.v.d;

/*--------------------------------------------------------------------*\
	Create interface data describing a spherical boundary with given dimension
\*--------------------------------------------------------------------*/
<a name="anchor-47"></a>				interface_data = PTTestSphereCreate (radius, solid);

				break;
			}
	}
<a name="anchor-48"></a>
/*--------------------------------------------------------------------*\
	Look up coordinate system (optional argument to this task)
\*--------------------------------------------------------------------*/	
	/* status = ProArgumentByLabelGet (inputs, L&quot;CSYS&quot;, &amp;data); */
<a name="anchor-49"></a>	status = UserArgumentByLabelGet (inputs, L&quot;CSYS&quot;, &amp;data);
	if (status == PRO_TK_NO_ERROR)
	{
		ProSelection sel;
		ProModelitem item;
<a name="anchor-50"></a>		
		sel = data.v.r;
		ProSelectionModelitemGet (sel, &amp;item);
		ProGeomitemToCsys (&amp;item, &amp;csys);
	}
<a name="anchor-51"></a>
/*--------------------------------------------------------------------*\
	Look for cut flag
\*--------------------------------------------------------------------*/
	/* status = ProArgumentByLabelGet (inputs, L&quot;CUT&quot;, &amp;data); */
<a name="anchor-52"></a>	status = UserArgumentByLabelGet (inputs, L&quot;CUT&quot;, &amp;data);
	if (status == PRO_TK_NO_ERROR)
	{
		if (data.v.b)
			attr.cut_or_add = 1;
<a name="anchor-53"></a>	}

/*--------------------------------------------------------------------*\
	Create import feature with parameters
\*--------------------------------------------------------------------*/
<a name="anchor-54"></a>	status = ProIntfDataSourceInit (PRO_INTF_NEUTRAL, interface_data, &amp;data_source);

	status = ProImportfeatCreate ( solid, &amp;data_source, csys, &amp;attr, &amp;feature);

	if (status != PRO_TK_NO_ERROR)
<a name="anchor-55"></a>		return PRO_TK_GENERAL_ERROR;

	/* status = ProArgumentByLabelGet (inputs, L&quot;NAME&quot;, &amp;data); */
	status = UserArgumentByLabelGet (inputs, L&quot;NAME&quot;, &amp;data);
	if (status == PRO_TK_NO_ERROR)
<a name="anchor-56"></a>	{
		ProModelitemNameSet (&amp;feature, data.v.w);
	}

/*--------------------------------------------------------------------*\
<a name="anchor-57"></a>	Note that function does not free input arguments (memory belongs
		to calling application)
\*--------------------------------------------------------------------*/


<a name="anchor-58"></a>/*--------------------------------------------------------------------*\
	Send output arguments containing selection of created feature
\*--------------------------------------------------------------------*/
	status = ProArrayAlloc (0, sizeof (ProArgument), 1, (ProArray*)outputs);
	if (status == PRO_TK_NO_ERROR)
<a name="anchor-59"></a>	{
		ProSelectionAlloc (NULL, &amp;feature, &amp;sel);
		
		ProStringToWstring (arg.label, &quot;NEW_FEATURE&quot;);
		arg.value.type = PRO_VALUE_TYPE_SELECTION;
<a name="anchor-60"></a>		arg.value.v.r = sel;

		ProArrayObjectAdd( (ProArray*)outputs, -1, 1, &amp;arg );

		return PRO_TK_NO_ERROR;
<a name="anchor-61"></a>	}
	else
		return PRO_TK_GENERAL_ERROR;
}

<a name="anchor-62"></a>
int UserCreateImportFeatures()
{
    int status;
    ProName proname, model_proname;
<a name="anchor-63"></a>    ProMdlType type;
    char name[100];
    ProIntfData *interface_data;
    ProIntfDataSource data_source;
    ProFeature feature_1, feature_2, feature_3;
<a name="anchor-64"></a>
    ProImportfeatRedefSource redefine_source;
	ProMdl solid;
	UserImportfeatOption* options;
	int i_opt;
<a name="anchor-65"></a>	UserImportfeatOption opt;

	status = ProMdlCurrentGet (&amp;solid);
	if (status != PRO_TK_NO_ERROR)
		return PRO_TK_BAD_CONTEXT;
<a name="anchor-66"></a>
	status = ProMdlTypeGet (solid, &amp;type);
	if (type != PRO_MDL_PART)
		return PRO_TK_INVALID_TYPE;

<a name="anchor-67"></a>	UserImportfeatOptionsGet (&amp;options);

	for (i_opt = 0; i_opt &lt; 3; i_opt ++)

	{
<a name="anchor-68"></a>		opt = options [i_opt];
		if (opt.type  == USER_IMPFEATOPT_PRISM)
		{
		/*--------------------------------------------------
			Creating the import feature: Prism of Size:40x30x20
<a name="anchor-69"></a>			---------------------------------------------------*/
		interface_data =  PTTestPrismCreate (opt.dims.prism.length, opt.dims.prism.width, opt.dims.prism.height, solid);
		}

		if (opt.type == USER_IMPFEATOPT_SPHERE)
<a name="anchor-70"></a>		{
    interface_data =  PTTestSphereCreate (opt.dims.sphere.radius, solid);
		}
	status = ProIntfDataSourceInit (PRO_INTF_NEUTRAL, interface_data, &amp;data_source);
    ProTKPrintf (&quot;status of ProIntfDataSourceInit is %d \n&quot;, status);
<a name="anchor-71"></a>
	status = ProImportfeatCreate ( solid, &amp;data_source, opt.csys, &amp;opt.attr, &amp;feature_2);
    ProTKPrintf (&quot;status of ProImportfeatCreate is %d \n&quot;, status);

	}
<a name="anchor-72"></a>    return (PRO_TK_NO_ERROR);
}


ProIntfData* PTTestSphereCreate (double rad, ProMdl solid)
<a name="anchor-73"></a>{

    ProSrftype surface_type;
    ProUvParam uvsurf_min, uvsurf_max;
    ProSurfaceOrient surf_orient;
<a name="anchor-74"></a>    ProSurfaceshapedata shape_data;
    int surf_id;
    ProSurfacedata surface_data;
    ProVector vector1, vector2, vector3;

<a name="anchor-75"></a>    ProVector vector_1, vector_2, vector_3, origin;
    double radius, radius1, radius2;
 
    ProIntfData   *interfacedata;
    ProCurvedata  *curve_data;
<a name="anchor-76"></a>    ProEdgedata   *edge_data;
    ProFeature    feature;
    int status;

    int        i, edge_id, surface_id[2];
<a name="anchor-77"></a>    ProEdgeDir edge_dir[2];
    ProUvParam (*edge_uvpt)[2];
    Pro3dPnt   point1, point2;
    int        num_edges;

<a name="anchor-78"></a>    double start_angle, end_angle;

    ProContourdata *contour, *array_contours;
    ProContourTraversal traversal;
    int *array_edge_ids;
<a name="anchor-79"></a>
    ProIntfDataSource data_source;
    ProFeature feature_1;

    /* double PI = 3.141593; */
<a name="anchor-80"></a>    ProUvParam (*array_uv_points)[2];
    
    status = ProIntfDataAlloc( &amp;interfacedata);
    ProTKPrintf (&quot;status ofmProIntfDataAlloc is %d \n&quot;, status);

<a name="anchor-81"></a>    status = ProEdgedataAlloc (&amp;edge_data);
    ProTKPrintf (&quot;status of ProEdgedataAlloc is %d \n&quot;, status);


/*------
<a name="anchor-82"></a>Edge-1
------*/
    edge_id = 1;
    surface_id[0] = 100, surface_id[1] = 101;
    edge_dir[0]   = 0, edge_dir[1]   = 1;
<a name="anchor-83"></a>
    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    vector_1[0]= 0.0, vector_1[1]= -1.0, vector_1[2]=0.0;
<a name="anchor-84"></a>    vector_2[0]= 1.0, vector_2[1]= 0.0, vector_2[2] =0.0;
    origin[0]  = 0.0, origin[1]  = 0.0, origin[2]   =0.0;
    start_angle = 0.0;
    end_angle   = 3.1451593;
    radius      = rad;
<a name="anchor-85"></a>
    status = ProArcdataInit ( vector_1, vector_2, origin, start_angle, end_angle,
	radius, curve_data);
    ProTKPrintf (&quot;status of ProArcdataInit is %d \n&quot;, status);

<a name="anchor-86"></a>    status = ProArrayAlloc (23, (sizeof (ProUvParam) * 2), 1, (ProArray *) &amp;array_uv_points);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    for (i=0; i&lt;23; i++)
    {
<a name="anchor-87"></a>	array_uv_points[i][0][0] = -1 * PI;       
	array_uv_points[i][0][1] = PI * 0.5 *(1 - i/11);       
	array_uv_points[i][1][0] = -1 * PI;       
	array_uv_points[i][1][1] =  array_uv_points[i][0][1];       
    }
<a name="anchor-88"></a>
    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, array_uv_points, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

<a name="anchor-89"></a>    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
<a name="anchor-90"></a>
/*------
Edge-2
------*/
    edge_id = 2;
<a name="anchor-91"></a>    surface_id[0] = 100, surface_id[1] = 101;
    edge_dir[0]   = 1, edge_dir[1]   = 0;

    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);
<a name="anchor-92"></a>
    vector_1[0]= 0.0,  vector_1[1]= -1.0, vector_1[2] =0.0;
    vector_2[0]= -1.0, vector_2[1]= 0.0,  vector_2[2] =0.0;
    origin[0]  = 0.0,  origin[1]  = 0.0,  origin[2]   =0.0;
    start_angle = 0.0;
<a name="anchor-93"></a>    end_angle   = 3.1451593;
    radius      = rad;

    status = ProArcdataInit ( vector_1, vector_2, origin, start_angle, end_angle,
	radius, curve_data);
<a name="anchor-94"></a>    ProTKPrintf (&quot;status of ProArcdataInit is %d \n&quot;, status);

    status = ProArrayAlloc (23, (sizeof (ProUvParam) * 2), 1, (ProArray *) &amp;array_uv_points);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

<a name="anchor-95"></a>    for (i=0; i&lt;23; i++)
    {
	array_uv_points[i][0][0] = -2 * PI;       
	array_uv_points[i][0][1] = PI * 0.5 * (1 - i/11);       
	array_uv_points[i][1][0] = 0;       
<a name="anchor-96"></a>	array_uv_points[i][1][1] =  array_uv_points[i][0][1];       
    }

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, array_uv_points, NULL,
        curve_data, edge_data);
<a name="anchor-97"></a>    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

<a name="anchor-98"></a>    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*-----------------------
   Surface -1
<a name="anchor-99"></a>-----------------------*/
    surface_type = PRO_SRF_TORUS;
    uvsurf_min[0] = -3.204425, uvsurf_min[1] = -1.570796;
    uvsurf_max[0] = 0.062832, uvsurf_max[1]= 1.570796;
    surf_orient = 1;
<a name="anchor-100"></a>    
    vector1[0] = -1.0, vector1[1]= 0.0,  vector1[2] =0.0;
    vector2[0] =  0.0, vector2[1]= 0.0,  vector2[2] =-1.0;
    vector3[0] =  0.0, vector3[1]= -1.0, vector3[2] =0.0;
    origin[0]  = 0.0, origin[1]= 0.0, origin[2] = 0.0;
<a name="anchor-101"></a>    radius1 = 0.0;
    radius2 = rad;

    status = ProTorusdataInit (vector1, vector2, vector3, origin, radius1, radius2, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);
<a name="anchor-102"></a>
    surf_id = 101;

    status = ProArrayAlloc (2, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);
<a name="anchor-103"></a>
    array_edge_ids[0]= 1, array_edge_ids[1] = 2;

    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);
<a name="anchor-104"></a>
    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
    traversal = 1;
<a name="anchor-105"></a>
    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
<a name="anchor-106"></a>    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

    array_contours[0] =  *contour;
 
    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
<a name="anchor-107"></a>        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);
<a name="anchor-108"></a>
    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

/*-----------------------
<a name="anchor-109"></a>   Surface -2
-----------------------*/

    surface_type = PRO_SRF_TORUS;
    uvsurf_min[0] = -6.346017, uvsurf_min[1] = -1.570796;
<a name="anchor-110"></a>    uvsurf_max[0] = -3.078761, uvsurf_max[1]=  1.570796;
    surf_orient = 1;
    
    vector1[0] = -1.0, vector1[1]= 0.0,  vector1[2] =0.0;
    vector2[0] =  0.0, vector2[1]= 0.0,  vector2[2] =-1.0;
<a name="anchor-111"></a>    vector3[0] =  0.0, vector3[1]= -1.0, vector3[2] =0.0;
    origin[0]  = 0.0, origin[1]= 0.0, origin[2] = 0.0;
    radius1 = 0.0;
    radius2 = rad;

<a name="anchor-112"></a>    status = ProTorusdataInit (vector1, vector2, vector3, origin, radius1, radius2, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

    surf_id = 102;

<a name="anchor-113"></a>    status = ProArrayAlloc (2, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    array_edge_ids[0]= 1, array_edge_ids[1] = 2;

<a name="anchor-114"></a>    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);


    status = ProContourdataAlloc (&amp;contour);
<a name="anchor-115"></a>    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
    traversal = 1;

    status = ProContourdataInit ( traversal, contour);
<a name="anchor-116"></a>    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

<a name="anchor-117"></a>    array_contours[0] =  *contour;
 
    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);
<a name="anchor-118"></a>
    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
<a name="anchor-119"></a>    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

    return ( interfacedata);

}
<a name="anchor-120"></a>

ProIntfData*  PTTestPrismCreate (double x_value, double y_value, double z_value, ProSolid solid)
{
    ProSrftype surface_type;
<a name="anchor-121"></a>    ProUvParam uvsurf_min, uvsurf_max;
    ProSurfaceOrient surf_orient;
    ProSurfaceshapedata shape_data;
    int surf_id;
    ProSurfacedata surface_data;
<a name="anchor-122"></a>    ProVector vector1, vector2, vector3, origin;
 
    ProContourdata *contour, *array_contours;
    ProContourTraversal traversal;
    int *array_edge_ids;
<a name="anchor-123"></a>
    int edge_id, surface_id[2];
    ProEdgeDir edge_dir[2];
    ProUvParam (*edge_uvpt)[2];
    Pro3dPnt point1, point2;
<a name="anchor-124"></a>    int num_edges;

    ProIntfData *interfacedata;
    ProCurvedata  *curve_data;
    ProEdgedata *edge_data;
<a name="anchor-125"></a>    ProFeature feature;
    int status;


    status = ProIntfDataAlloc( &amp;interfacedata);
<a name="anchor-126"></a>    ProTKPrintf (&quot;status ofmProIntfDataAlloc is %d \n&quot;, status);

    status = ProEdgedataAlloc (&amp;edge_data);
    ProTKPrintf (&quot;status of ProEdgedataAlloc is %d \n&quot;, status);

<a name="anchor-127"></a>
/*------
Edge-1
------*/
    edge_id = 1;
<a name="anchor-128"></a>    surface_id[0] = 1, surface_id[1] = 2;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);
<a name="anchor-129"></a>
    point1[0] = 0.0, point1[1] = 0.0, point1[2] = 0.0;
    point2[0] = x_value, point2[1] = 0.0, point2[2] =0.0;

    status = ProLinedataInit (point1, point2, curve_data);
<a name="anchor-130"></a>    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);
<a name="anchor-131"></a>
    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
<a name="anchor-132"></a>    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*------
Edge-2
------*/
<a name="anchor-133"></a>    edge_id = 2;
    surface_id[0] = 1, surface_id[1] = 5;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

    status = ProCurvedataAlloc (&amp;curve_data);
<a name="anchor-134"></a>    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = 0.0, point1[2] = 0.0;
    point2[0] = x_value, point2[1] = y_value, point2[2] =0.0;

<a name="anchor-135"></a>    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
<a name="anchor-136"></a>    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

<a name="anchor-137"></a>    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*------
Edge-3
<a name="anchor-138"></a>------*/
    edge_id = 3;
    surface_id[0] = 1, surface_id[1] = 4;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

<a name="anchor-139"></a>    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = y_value, point1[2] = 0.0;
    point2[0] = 0.0,   point2[1] = y_value, point2[2] = 0.0;
<a name="anchor-140"></a>
    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
<a name="anchor-141"></a>        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);
<a name="anchor-142"></a>
    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
/*------
Edge-4
<a name="anchor-143"></a>------*/
    edge_id = 4;
    surface_id[0] = 1, surface_id[1] = 3;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

<a name="anchor-144"></a>    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = 0.0, point1[1] = y_value, point1[2] = 0.0;
    point2[0] = 0.0, point2[1] = 0.0, point2[2] = 0.0;
<a name="anchor-145"></a>
    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
<a name="anchor-146"></a>        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);
<a name="anchor-147"></a>
    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*------
<a name="anchor-148"></a>Edge-5
------*/
    edge_id = 5;
    surface_id[0] = 6, surface_id[1] = 2;
    edge_dir[0]   = 1, edge_dir[1]   = 0;
<a name="anchor-149"></a>
    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = 0.0, point1[1] = 0.0, point1[2] = z_value;
<a name="anchor-150"></a>    point2[0] = x_value, point2[1] = 0.0, point2[2] =z_value;

    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

<a name="anchor-151"></a>    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
<a name="anchor-152"></a>    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
/*------
<a name="anchor-153"></a>Edge-6
------*/
    edge_id = 6;
    surface_id[0] = 6, surface_id[1] = 5;
    edge_dir[0]   = 1, edge_dir[1]   = 0;
<a name="anchor-154"></a>
    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = 0.0, point1[2] = z_value;
<a name="anchor-155"></a>    point2[0] = x_value, point2[1] = y_value, point2[2] =z_value;

    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

<a name="anchor-156"></a>    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
<a name="anchor-157"></a>    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
/*------
<a name="anchor-158"></a>Edge-7
------*/
    edge_id = 7;
    surface_id[0] = 6, surface_id[1] = 4;
    edge_dir[0]   = 1, edge_dir[1]   = 0;
<a name="anchor-159"></a>
    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = y_value, point1[2] = z_value;
<a name="anchor-160"></a>    point2[0] = 0.0, point2[1] = y_value, point2[2] =z_value;

    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

<a name="anchor-161"></a>    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
<a name="anchor-162"></a>    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

<a name="anchor-163"></a>/*------
Edge-8
------*/
    edge_id = 8;
    surface_id[0] = 6, surface_id[1] = 3;
<a name="anchor-164"></a>    edge_dir[0]   = 1, edge_dir[1]   = 0;

    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

<a name="anchor-165"></a>    point1[0] = 0.0, point1[1] = y_value, point1[2] = z_value;
    point2[0] = 0.0, point2[1] = 0.0, point2[2] =z_value;

    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);
<a name="anchor-166"></a>
    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

<a name="anchor-167"></a>    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
<a name="anchor-168"></a>
/*------
Edge-9
------*/
    edge_id = 9;
<a name="anchor-169"></a>    surface_id[0] = 2, surface_id[1] = 3;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);
<a name="anchor-170"></a>
    point1[0] = 0.0, point1[1] = 0.0, point1[2] = 0.0;
    point2[0] = 0.0, point2[1] = 0.0, point2[2] =z_value;

    status = ProLinedataInit (point1, point2, curve_data);
<a name="anchor-171"></a>    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);
<a name="anchor-172"></a>
    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
<a name="anchor-173"></a>    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);
    
/*------
Edge-10
------*/
<a name="anchor-174"></a>    edge_id = 10;
    surface_id[0] = 5, surface_id[1] = 2;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

    status = ProCurvedataAlloc (&amp;curve_data);
<a name="anchor-175"></a>    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = 0.0, point1[2] = 0.0;
    point2[0] = x_value, point2[1] = 0.0, point2[2] = z_value;

<a name="anchor-176"></a>    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
<a name="anchor-177"></a>    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

<a name="anchor-178"></a>    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*------
Edge-11
<a name="anchor-179"></a>------*/
    edge_id = 11;
    surface_id[0] = 4, surface_id[1] = 5;
    edge_dir[0]   = 0, edge_dir[1]   = 1;

<a name="anchor-180"></a>    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = x_value, point1[1] = y_value, point1[2] = 0.0;
    point2[0] = x_value, point2[1] = y_value, point2[2] = z_value;
<a name="anchor-181"></a>
    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
<a name="anchor-182"></a>        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);
<a name="anchor-183"></a>
    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

/*------
<a name="anchor-184"></a>Edge-12
------*/
    edge_id = 12;
    surface_id[0] = 3, surface_id[1] = 4;
    edge_dir[0]   = 0, edge_dir[1]   = 1;
<a name="anchor-185"></a>
    status = ProCurvedataAlloc (&amp;curve_data);
    ProTKPrintf (&quot;status of ProCurvedataAlloc is %d \n&quot;, status);

    point1[0] = 0.0, point1[1] = y_value, point1[2] = 0.0;
<a name="anchor-186"></a>    point2[0] = 0.0, point2[1] = y_value, point2[2] = z_value;

    status = ProLinedataInit (point1, point2, curve_data);
    ProTKPrintf (&quot;status of ProLinedataInit is %d \n&quot;, status);

<a name="anchor-187"></a>    status = ProEdgedataInit ( edge_id, surface_id, edge_dir, NULL, NULL,
        curve_data, edge_data);
    ProTKPrintf (&quot;status of ProEdgedataInit is %d \n&quot;, status);

    status = ProIntfDataEdgeAppend (interfacedata, edge_data);
<a name="anchor-188"></a>    ProTKPrintf (&quot;status of ProIntfDataEdgeAppend is %d \n&quot;, status);

    status = ProCurvedataFree ( curve_data);
    ProTKPrintf (&quot;status of ProCurvedataFree is %d \n&quot;, status);

<a name="anchor-189"></a>/*-----------------------
   Surface -1
-----------------------*/
    surface_type = PRO_SRF_PLANE;

<a name="anchor-190"></a>    uvsurf_min[0] = 0 ,  uvsurf_min[1] = 0; /*-- 1--*/
    /* uvsurf_max[0] = x_value, uvsurf_max[1]= y_value; */
    uvsurf_max[0] = 0, uvsurf_max[1]= 0;
    surf_orient = -1;
    
<a name="anchor-191"></a>    vector1[0] = 1.0, vector1[1]= 0.0, vector1[2] =0.0;
    vector2[0] = 0.0, vector2[1]= 1.0, vector2[2] =0.0;
    vector3[0] = 0.0, vector3[1]= 0.0, vector3[2] =1.0;
    origin[0]  = 0.0, origin[1]=0.0, origin[2] = 0.0;

<a name="anchor-192"></a>    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

    surf_id = 1;

<a name="anchor-193"></a>    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    array_edge_ids[0]= 1, array_edge_ids[1] = 2, array_edge_ids[2] =3, array_edge_ids[3]=4;

<a name="anchor-194"></a>    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
<a name="anchor-195"></a>    
    traversal = 1;

    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);
<a name="anchor-196"></a>
    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

    array_contours[0] =  *contour;
<a name="anchor-197"></a>
    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

<a name="anchor-198"></a>    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);
<a name="anchor-199"></a>
/*-----------------------
   Surface -2
-----------------------*/

<a name="anchor-200"></a>    surface_type = PRO_SRF_PLANE;
    uvsurf_min[0] = 0, uvsurf_min[1] = 0;
    /* uvsurf_max[0] = x_value, uvsurf_max[1]= y_value; */
    uvsurf_max[0] = 0, uvsurf_max[1]= 0;
    surf_orient = 1;
<a name="anchor-201"></a>    
    vector1[0] = 1.0, vector1[1]= 0.0, vector1[2] =0.0;
    vector2[0] = 0.0, vector2[1]= 0.0, vector2[2] =1.0;
    vector3[0] = 0.0, vector3[1]= -1.0, vector3[2] =0.0;
    origin[0]  = 0.0, origin[1]=0.0, origin[2] = 0.0;
<a name="anchor-202"></a>
    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

    surf_id = 2;
<a name="anchor-203"></a>
    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    array_edge_ids[0]= 1, array_edge_ids[1] = 9, array_edge_ids[2] =5, array_edge_ids[3]=10;
<a name="anchor-204"></a>
    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);


<a name="anchor-205"></a>    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
    traversal = 1;

<a name="anchor-206"></a>    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);
<a name="anchor-207"></a>
    array_contours[0] =  *contour;
 

    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
<a name="anchor-208"></a>        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);
<a name="anchor-209"></a>
    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

/*-----------------------
<a name="anchor-210"></a>   Surface -3
-----------------------*/

    surface_type = PRO_SRF_PLANE;
    uvsurf_min[0] = 0.0, uvsurf_min[1] = 0.0;
<a name="anchor-211"></a>    /* uvsurf_max[0] = y_value, uvsurf_max[1]=  z_value; */
    uvsurf_max[0] = 0,  uvsurf_max[1]=  0;
    surf_orient = 1;
    
    vector1[0] = 0.0, vector1[1]= -1.0, vector1[2] =0.0;
<a name="anchor-212"></a>    vector2[0] = 0.0, vector2[1]= 0.0, vector2[2] =1.0;
    vector3[0] = -1.0, vector3[1]= 0.0, vector3[2] =0.0;
    origin[0]  = 0.0, origin[1]=y_value, origin[2] = 0.0;

    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
<a name="anchor-213"></a>    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

    surf_id = 3;

    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
<a name="anchor-214"></a>    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    array_edge_ids[0]= 4, array_edge_ids[1] = 12, array_edge_ids[2] =8, array_edge_ids[3]=9;

    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
<a name="anchor-215"></a>    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);


    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
<a name="anchor-216"></a>    
    traversal = 1;

    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);
<a name="anchor-217"></a>
    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

    array_contours[0] =  *contour;
<a name="anchor-218"></a> 

    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);
<a name="anchor-219"></a>
    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
<a name="anchor-220"></a>    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

/*-----------------------
   Surface -4
-----------------------*/
<a name="anchor-221"></a>
    surface_type = PRO_SRF_PLANE;
    uvsurf_min[0] = 0.0, uvsurf_min[1] = 0.0;
    /* uvsurf_max[0] = x_value, uvsurf_max[1]= z_value; */
    uvsurf_max[0] = 0, uvsurf_max[1]= 0;
<a name="anchor-222"></a>    surf_orient = 1;
    
    vector1[0] = -1.0, vector1[1]= 0.0, vector1[2] =0.0;
    vector2[0] = 0.0, vector2[1]= 0.0, vector2[2] =1.0;
    vector3[0] = 0.0, vector3[1]= 1.0, vector3[2] =0.0;
<a name="anchor-223"></a>    origin[0]  = x_value, origin[1]=y_value, origin[2] = 0.0;

    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

<a name="anchor-224"></a>    surf_id = 4;

    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

<a name="anchor-225"></a>    array_edge_ids[0]= 3, array_edge_ids[1] = 11, array_edge_ids[2] =7, array_edge_ids[3]=12;

    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

<a name="anchor-226"></a>
    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
    traversal = 1;
<a name="anchor-227"></a>
    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
<a name="anchor-228"></a>    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

    array_contours[0] =  *contour;
 

<a name="anchor-229"></a>    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
<a name="anchor-230"></a>    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);
    
<a name="anchor-231"></a>/*-----------------------
   Surface -5
-----------------------*/

    surface_type = PRO_SRF_PLANE;
<a name="anchor-232"></a>    uvsurf_min[0] = 0.0, uvsurf_min[1] = 0.0;
    /* uvsurf_max[0] = y_value, uvsurf_max[1]= z_value; */
    uvsurf_max[0] = 0, uvsurf_max[1]= 0;
    surf_orient = 1;
    
<a name="anchor-233"></a>    vector1[0] = 0.0, vector1[1]= 1.0, vector1[2] =0.0;
    vector2[0] = 0.0, vector2[1]= 0.0, vector2[2] =1.0;
    vector3[0] = 1.0, vector3[1]= 0.0, vector3[2] =0.0;
    origin[0]  = x_value, origin[1]= 0.0, origin[2] = 0.0;

<a name="anchor-234"></a>    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);

    surf_id = 5;

<a name="anchor-235"></a>    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);

    array_edge_ids[0]= 2, array_edge_ids[1] = 10, array_edge_ids[2] =6, array_edge_ids[3]=11;

<a name="anchor-236"></a>    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);


    status = ProContourdataAlloc (&amp;contour);
<a name="anchor-237"></a>    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
    traversal = 1;

    status = ProContourdataInit ( traversal, contour);
<a name="anchor-238"></a>    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

<a name="anchor-239"></a>    array_contours[0] =  *contour;
 

    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
<a name="anchor-240"></a>    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

<a name="anchor-241"></a>    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

/*-----------------------
   Surface -6
<a name="anchor-242"></a>-----------------------*/

    surface_type = PRO_SRF_PLANE;
    uvsurf_min[0] = 0.0, uvsurf_min[1] = 0.0;
    /* uvsurf_max[0] = x_value, uvsurf_max[1]= y_value; */
<a name="anchor-243"></a>    uvsurf_max[0] = 0, uvsurf_max[1]= 0;
    surf_orient = 1;
    
    vector1[0] = 1.0, vector1[1]= 0.0, vector1[2] =0.0;
    vector2[0] = 0.0, vector2[1]= 1.0, vector2[2] =0.0;
<a name="anchor-244"></a>    vector3[0] = 0.0, vector3[1]= 0.0, vector3[2] =1.0;
    origin[0]  = 0.0, origin[1]= 0.0, origin[2] = z_value;

    status = ProPlanedataInit (vector1, vector2, vector3, origin, &amp;shape_data);
    ProTKPrintf (&quot;status of ProPlanedataInit is %d \n&quot;, status);
<a name="anchor-245"></a>
    surf_id = 6;

    status = ProArrayAlloc (4, sizeof(int), 1, (ProArray *) &amp;array_edge_ids);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);
<a name="anchor-246"></a>
    array_edge_ids[0]= 5, array_edge_ids[1] = 8, array_edge_ids[2] =7, array_edge_ids[3]=6;

    status = ProArrayAlloc (1, sizeof (ProContourdata), 1, (ProArray *) &amp;array_contours);
    ProTKPrintf (&quot;status of ProArrayAlloc is %d \n&quot;, status);
<a name="anchor-247"></a>

    status = ProContourdataAlloc (&amp;contour);
    ProTKPrintf (&quot;status of ProContourdataAlloc is %d \n&quot;, status);
    
<a name="anchor-248"></a>    traversal = 1;

    status = ProContourdataInit ( traversal, contour);
    ProTKPrintf (&quot;status of ProContourdataInit is %d \n&quot;, status);

<a name="anchor-249"></a>    status = ProContourdataEdgeIdArraySet (contour, array_edge_ids);
    ProTKPrintf (&quot;status of ProContourdataEdgeIdArraySet is %d \n&quot;, status);

    array_contours[0] =  *contour;

<a name="anchor-250"></a>    status = ProSurfacedataInit (surface_type,  uvsurf_min, uvsurf_max, surf_orient,
        &amp;shape_data, surf_id, &amp;surface_data);
    ProTKPrintf (&quot;status of ProSurfacedataInit is %d \n&quot;, status);

    status = ProSurfacedataContourArraySet (&amp;surface_data, array_contours);
<a name="anchor-251"></a>    ProTKPrintf (&quot;status of ProSurfacedataContourArraySet is %d \n&quot;, status);

    status = ProIntfDataSurfaceAppend (interfacedata, &amp;surface_data);
    ProTKPrintf (&quot;status of ProIntfDataSurfaceAppend is %d \n&quot;, status);

<a name="anchor-252"></a>    return (interfacedata);
/*
    status = ProIntfDataSourceInit (PRO_INTF_NEUTRAL, interfacedata, &amp;data_source);
    printf (&quot;status of ProIntfDataSourceInit is %d \n&quot;, status);

<a name="anchor-253"></a>    status = ProImportfeatCreate ( solid, &amp;data_source, NULL, NULL, &amp;feature);
    printf (&quot;status of ProImportfeatCreate is %d \n&quot;, status);


    status = ProImportfeatRedefSourceInit (PRO_IMPORT_FEAT_REDEF_SUBSTITUTE, interfacedata,
<a name="anchor-254"></a>	&amp;redefine_source);
    printf (&quot;status of ProImportfeatRedefSourceInit is %d \n&quot;, status);

    status = ProImportfeatRedefine ( &amp;feature, &amp;redefine_source);
    printf (&quot;status of ProImportfeatRedefine is %d \n&quot;, status);
<a name="anchor-255"></a>*/

}
</pre>
</body>
</html>
