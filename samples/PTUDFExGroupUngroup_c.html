<html>
<head>
<title>PTUDFExGroupUngroup.c</title>
</head>
<body bgcolor="#ffffff">
<pre><a name="anchor-0"></a>
/*
	Copyright (c) 2024 PTC Inc. and/or Its Subsidiary Companies. All Rights Reserved.
*/

<a name="anchor-1"></a>
#include &lt;ProToolkit.h>
#include &lt;ProMessage.h>
#include &lt;ProGroup.h>
#include &lt;ProUtil.h>
<a name="anchor-2"></a>
#include &lt;PTUDFExamples.h>

/*====================================================================*\
FUNCTION: PTUDFExMessage
<a name="anchor-3"></a>PURPOSE:  Show message explaining why ungroup was blocked.
\*====================================================================*/
ProError PTUDFExMessage (char* message_key)
{
  ProFileName file_name;
<a name="anchor-4"></a>  ProCharLine message_name;
  
  ProStringToWstring (file_name, &quot;pt_udf_ex_msgs.txt&quot;);
  
  strcpy (message_name, message_key);
<a name="anchor-5"></a>
  status = ProMessageDisplay (file_name, message_name);
  PT_TEST_LOG_SUCC (&quot;ProMessageDisplay()&quot;);

  return (PRO_TK_NO_ERROR);
<a name="anchor-6"></a>}

/*====================================================================*\
FUNCTION: PTUDFExUgroupPreventAction
PURPOSE:  Notification function called before a group is ungroup by the UI.
<a name="anchor-7"></a>\*====================================================================*/
ProError PTUDFExUgroupPreventAction (ProGroup* group)
{
  PTUDFExMessage (&quot;PTUDFEx: Preventing ungroup&quot;);

<a name="anchor-8"></a>/*----------------------------------------------------------------------*\
	Return PRO_TK_GENERAL_ERROR to block ungroup; a PRO_TK_NO_ERROR
	return would allow it.
\*----------------------------------------------------------------------*/
  return (PRO_TK_GENERAL_ERROR);
<a name="anchor-9"></a>}
</pre>
</body>
</html>
